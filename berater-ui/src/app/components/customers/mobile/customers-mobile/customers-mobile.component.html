<div class="mobile-page">

  <!-- HEADER -->
  <div class="mobile-header">
    <h1>Kunden</h1>
    <button class="fab" (click)="create.emit()">
      <i class="fas fa-plus"></i>
    </button>
  </div>

  <!-- FILTER BAR -->
  <div class="mobile-filters">
    <input
      type="search"
      placeholder="Suche..."
      [ngModel]="searchTerm"
      (ngModelChange)="searchTermChange.emit($event)"
    />

    <select
      [ngModel]="filterActive"
      (ngModelChange)="filterActiveChange.emit($event)"
    >
      <option [ngValue]="undefined">Alle</option>
      <option [ngValue]="true">Aktiv</option>
      <option [ngValue]="false">Inaktiv</option>
    </select>
  </div>

  <!-- LIST -->
  <div class="card-list">
    <div class="eskapp-card" *ngFor="let c of customers">
      <!-- STATUS -->
      <div class="status-icon"
           [class.active]="c.isActive"
           [class.inactive]="!c.isActive">
          <i class="fas" [ngClass]="c.isActive ? 'fa-check' : 'fa-times'"></i>
      </div>

      <strong>{{ c.firstName }} {{ c.lastName }}</strong>
      <div>{{ c.email || '-' }}</div>

      <div class="phone" *ngIf="c.phone">
        {{ c.phone }}
        <a [href]="'tel:' + c.phone"><i class="fas fa-phone"></i></a>
      </div>

      <div class="actions">
        <button (click)="showDetails.emit(c)"><i class="fas fa-info-circle"></i>Details</button>
        <button (click)="edit.emit(c)"><i class="fas fa-edit"></i>Bearbeiten</button>
        <button *ngIf="c.isActive" class="danger" (click)="deactivate.emit(c._id)"><i class="fas fa-ban"></i>Deaktivieren</button>
      </div>

    </div>
  </div>

</div>
